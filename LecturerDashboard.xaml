<Window x:Class="Plan.LecturerDashboard"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Plan"
        mc:Ignorable="d"
        Title="CMCS – Lecturer Dashboard"
        Height="800" Width="1200"
        WindowStartupLocation="CenterScreen"
        WindowState="Maximized"
        Background="#0F172A"
        Icon="pic.ico">

    <!-- ========== WINDOW RESOURCES ========== -->
    <Window.Resources>

        <!-- === Modern Gradient Brushes === -->
        <LinearGradientBrush x:Key="PrimaryGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#667eea" Offset="0"/>
            <GradientStop Color="#764ba2" Offset="1"/>
        </LinearGradientBrush>

        <LinearGradientBrush x:Key="AccentGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#11998e" Offset="0"/>
            <GradientStop Color="#38ef7d" Offset="1"/>
        </LinearGradientBrush>

        <LinearGradientBrush x:Key="DangerGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#FF6B6B" Offset="0"/>
            <GradientStop Color="#EE5A52" Offset="1"/>
        </LinearGradientBrush>

        <LinearGradientBrush x:Key="WarningGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#FFA726" Offset="0"/>
            <GradientStop Color="#FF7043" Offset="1"/>
        </LinearGradientBrush>

        <LinearGradientBrush x:Key="InfoGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#42A5F5" Offset="0"/>
            <GradientStop Color="#1E88E5" Offset="1"/>
        </LinearGradientBrush>

        <LinearGradientBrush x:Key="SuccessGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#66BB6A" Offset="0"/>
            <GradientStop Color="#43A047" Offset="1"/>
        </LinearGradientBrush>

        <LinearGradientBrush x:Key="DarkGradient" StartPoint="0,0" EndPoint="0,1">
            <GradientStop Color="#1E293B" Offset="0"/>
            <GradientStop Color="#0F172A" Offset="1"/>
        </LinearGradientBrush>

        <!-- === Glass Card Style === -->
        <Style x:Key="GlassCard" TargetType="Border">
            <Setter Property="Background" Value="#1E293B"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#334155"/>
            <Setter Property="Margin" Value="8"/>
            <Setter Property="Padding" Value="24"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="Black" BlurRadius="20" ShadowDepth="4" Opacity="0.3"/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- === Stat Card Style === -->
        <Style x:Key="StatCard" TargetType="Border" BasedOn="{StaticResource GlassCard}">
            <Setter Property="Padding" Value="20"/>
            <Setter Property="MinHeight" Value="120"/>
        </Style>

        <!-- === Modern Button Base === -->
        <Style x:Key="ModernButtonBase" TargetType="Button">
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Padding" Value="16,8"/>
            <Setter Property="Margin" Value="4"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" 
                                Background="{TemplateBinding Background}" 
                                CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"
                                            Margin="{TemplateBinding Padding}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="1.02" ScaleY="1.02"/>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#667eea" BlurRadius="8" ShadowDepth="0" Opacity="0.3"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="0.98" ScaleY="0.98"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- === Button Variants === -->
        <Style x:Key="PrimaryButton" TargetType="Button" BasedOn="{StaticResource ModernButtonBase}">
            <Setter Property="Background" Value="{StaticResource PrimaryGradient}"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <Style x:Key="SuccessButton" TargetType="Button" BasedOn="{StaticResource ModernButtonBase}">
            <Setter Property="Background" Value="{StaticResource AccentGradient}"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <Style x:Key="DangerButton" TargetType="Button" BasedOn="{StaticResource ModernButtonBase}">
            <Setter Property="Background" Value="{StaticResource DangerGradient}"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <Style x:Key="WarningButton" TargetType="Button" BasedOn="{StaticResource ModernButtonBase}">
            <Setter Property="Background" Value="{StaticResource WarningGradient}"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <Style x:Key="SecondaryButton" TargetType="Button" BasedOn="{StaticResource ModernButtonBase}">
            <Setter Property="Background" Value="#475569"/>
            <Setter Property="Foreground" Value="#E2E8F0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#64748B"/>
        </Style>

        <!-- === DataGrid Style === -->
        <Style x:Key="ModernDataGrid" TargetType="DataGrid">
            <Setter Property="Background" Value="#1E293B"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="GridLinesVisibility" Value="None"/>
            <Setter Property="AlternatingRowBackground" Value="#334155"/>
            <Setter Property="RowBackground" Value="#1E293B"/>
            <Setter Property="Foreground" Value="#E2E8F0"/>
            <Setter Property="HeadersVisibility" Value="Column"/>
            <Setter Property="AutoGenerateColumns" Value="False"/>
            <Setter Property="CanUserAddRows" Value="False"/>
            <Setter Property="CanUserDeleteRows" Value="False"/>
            <Setter Property="IsReadOnly" Value="True"/>
            <Setter Property="SelectionMode" Value="Single"/>
            <Setter Property="RowHeight" Value="45"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="ColumnHeaderStyle">
                <Setter.Value>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="#475569"/>
                        <Setter Property="Foreground" Value="#F1F5F9"/>
                        <Setter Property="FontWeight" Value="SemiBold"/>
                        <Setter Property="FontSize" Value="13"/>
                        <Setter Property="Padding" Value="12,8"/>
                        <Setter Property="BorderBrush" Value="#64748B"/>
                        <Setter Property="BorderThickness" Value="0,0,1,0"/>
                        <Setter Property="Height" Value="40"/>
                    </Style>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- === Input Styles === -->
        <Style x:Key="ModernTextBox" TargetType="TextBox">
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#334155"/>
            <Setter Property="Background" Value="#1E293B"/>
            <Setter Property="Foreground" Value="#E2E8F0"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Margin" Value="0,0,0,10"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6">
                            <ScrollViewer x:Name="PART_ContentHost" 
                                        Margin="{TemplateBinding Padding}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#667eea"/>
                                <Setter TargetName="border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#667eea" BlurRadius="8" ShadowDepth="0" Opacity="0.2"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- === Enhanced ComboBox Style === -->
        <Style x:Key="ModernComboBox" TargetType="ComboBox">
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#334155"/>
            <Setter Property="Background" Value="#1E293B"/>
            <Setter Property="Foreground" Value="#E2E8F0"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Margin" Value="0,0,0,10"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="30"/>
                            </Grid.ColumnDefinitions>

                            <Border x:Name="MainBorder" Grid.Column="0" Grid.ColumnSpan="2"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="6"/>

                            <ContentPresenter x:Name="ContentSite" Grid.Column="0"
                                            IsHitTestVisible="False"
                                            Content="{TemplateBinding SelectionBoxItem}"
                                            ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                            ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                            Margin="{TemplateBinding Padding}"
                                            VerticalAlignment="Center"
                                            HorizontalAlignment="Left"/>

                            <ToggleButton x:Name="ToggleButton" Grid.Column="0" Grid.ColumnSpan="2"
                                        Background="Transparent"
                                        BorderThickness="0"
                                        IsChecked="{Binding Path=IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                        ClickMode="Press">
                                <ToggleButton.Template>
                                    <ControlTemplate TargetType="ToggleButton">
                                        <Grid>
                                            <Border Background="Transparent"/>
                                            <Path x:Name="Arrow" Grid.Column="1"
                                                  Fill="#94A3B8"
                                                  HorizontalAlignment="Right"
                                                  VerticalAlignment="Center"
                                                  Data="M 0 0 L 4 4 L 8 0 Z"
                                                  Margin="0,0,12,0"/>
                                        </Grid>
                                    </ControlTemplate>
                                </ToggleButton.Template>
                            </ToggleButton>

                            <Popup Name="Popup" Placement="Bottom"
                                   IsOpen="{TemplateBinding IsDropDownOpen}"
                                   AllowsTransparency="True"
                                   Focusable="False"
                                   PopupAnimation="Slide">
                                <Grid Name="DropDown" SnapsToDevicePixels="True"
                                      MinWidth="{TemplateBinding ActualWidth}">
                                    <Border x:Name="DropDownBorder"
                                            Background="#1E293B"
                                            BorderThickness="1"
                                            BorderBrush="#475569"
                                            CornerRadius="6"
                                            MaxHeight="200">
                                        <Border.Effect>
                                            <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="3" Opacity="0.3"/>
                                        </Border.Effect>
                                        <ScrollViewer Margin="4" SnapsToDevicePixels="True">
                                            <StackPanel IsItemsHost="True"/>
                                        </ScrollViewer>
                                    </Border>
                                </Grid>
                            </Popup>
                        </Grid>

                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="MainBorder" Property="BorderBrush" Value="#64748B"/>
                            </Trigger>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="MainBorder" Property="BorderBrush" Value="#667eea"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- === ComboBox Item Style === -->
        <Style x:Key="ModernComboBoxItem" TargetType="ComboBoxItem">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="Foreground" Value="#E2E8F0"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBoxItem">
                        <Border x:Name="Border"
                                Background="{TemplateBinding Background}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Left" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsHighlighted" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#475569"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#475569"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#667eea"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- === Label Style === -->
        <Style x:Key="FormLabel" TargetType="TextBlock">
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Margin" Value="0,0,0,5"/>
            <Setter Property="Foreground" Value="#E2E8F0"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
        </Style>

        <!-- === DatePicker Style === -->
        <Style x:Key="ModernDatePicker" TargetType="DatePicker">
            <Setter Property="Background" Value="#1E293B"/>
            <Setter Property="BorderBrush" Value="#334155"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="Margin" Value="0,0,0,10"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="DatePicker">
                        <Border Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="6">
                            <Grid>
                                <DatePickerTextBox x:Name="PART_TextBox" 
                                         Foreground="Black" 
                                         Background="White"
                                         BorderThickness="0"
                                         Margin="{TemplateBinding Padding}"
                                         VerticalAlignment="Center"/>
                                <Button x:Name="PART_Button" 
                                Background="Transparent"
                                BorderThickness="0" 
                                Focusable="False" 
                                HorizontalAlignment="Right" 
                                Margin="0,0,8,0" 
                                VerticalAlignment="Center" 
                                Width="18" Height="18">
                                    <Button.Content>
                                        <Canvas Width="18" Height="18">
                                            <Rectangle Width="18" Height="18" Fill="#64748B" RadiusX="2" RadiusY="2"/>
                                            <Rectangle Canvas.Top="0" Width="18" Height="4" Fill="#475569" RadiusX="2" RadiusY="2"/>
                                            <Rectangle Canvas.Left="3" Canvas.Top="0" Width="1" Height="6" Fill="#334155"/>
                                            <Rectangle Canvas.Left="14" Canvas.Top="0" Width="1" Height="6" Fill="#334155"/>
                                            <Line X1="0" Y1="6" X2="18" Y2="6" Stroke="#334155" StrokeThickness="0.5"/>
                                            <Line X1="0" Y1="9" X2="18" Y2="9" Stroke="#334155" StrokeThickness="0.5"/>
                                            <Line X1="0" Y1="12" X2="18" Y2="12" Stroke="#334155" StrokeThickness="0.5"/>
                                            <Line X1="0" Y1="15" X2="18" Y2="15" Stroke="#334155" StrokeThickness="0.5"/>
                                            <Line X1="6" Y1="6" X2="6" Y2="18" Stroke="#334155" StrokeThickness="0.5"/>
                                            <Line X1="12" Y1="6" X2="12" Y2="18" Stroke="#334155" StrokeThickness="0.5"/>
                                            <TextBlock Canvas.Left="7" Canvas.Top="7" Text="15" FontSize="6" Foreground="White" FontWeight="Bold"/>
                                        </Canvas>
                                    </Button.Content>
                                </Button>
                                <Popup x:Name="PART_Popup" 
                               AllowsTransparency="True" 
                               Placement="Bottom" 
                               PlacementTarget="{Binding ElementName=PART_TextBox}" 
                               StaysOpen="False"/>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- === ListBox Style === -->
        <Style x:Key="ModernListBox" TargetType="ListBox">
            <Setter Property="Background" Value="#1E293B"/>
            <Setter Property="BorderBrush" Value="#334155"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Foreground" Value="#E2E8F0"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Padding" Value="8"/>
        </Style>

        <!-- === Notification Item Style === -->
        <Style x:Key="NotificationItem" TargetType="Border">
            <Setter Property="Background" Value="#334155"/>
            <Setter Property="BorderBrush" Value="#475569"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Margin" Value="0,0,0,8"/>
            <Setter Property="Padding" Value="16"/>
        </Style>

        <!-- === CheckBox Style === -->
        <Style x:Key="ModernCheckBox" TargetType="CheckBox">
            <Setter Property="Foreground" Value="#E2E8F0"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Margin" Value="0,0,8,0"/>
        </Style>

    </Window.Resources>

    <!-- ========== MAIN LAYOUT ========== -->
    <Grid Background="#0F172A">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- === MODERN HEADER === -->
        <Border Grid.Row="0" Background="{StaticResource DarkGradient}" Height="70">
            <Border.Effect>
                <DropShadowEffect Color="Black" BlurRadius="12" ShadowDepth="2" Opacity="0.4"/>
            </Border.Effect>
            <Grid Margin="30,0">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <Border Background="{StaticResource PrimaryGradient}" 
                            Width="40" Height="40" 
                            CornerRadius="10" 
                            Margin="0,0,16,0">
                        <TextBlock Text="L" FontSize="18" FontWeight="Bold" 
                                   Foreground="White" 
                                   HorizontalAlignment="Center" 
                                   VerticalAlignment="Center"/>
                    </Border>
                    <StackPanel>
                        <TextBlock Text="Lecturer Dashboard" FontSize="20" FontWeight="SemiBold" Foreground="#E2E8F0"/>
                        <TextBlock Name="lblWelcomeMessage" Text="Welcome, Dr. Lecturer" 
                                   FontSize="13" Foreground="#94A3B8" Margin="0,2,0,0"/>
                    </StackPanel>
                </StackPanel>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                    <Button Name="btnNewClaim" Content="New Claim" Style="{StaticResource SuccessButton}" Click="BtnNewClaim_Click"/>
                    <Button Name="btnProfile" Content="Profile" Style="{StaticResource SecondaryButton}" Click="BtnProfile_Click"/>
                    <Button Name="btnNotifications" Style="{StaticResource SecondaryButton}" 
                            Click="BtnNotifications_Click" Margin="4">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="🔔" FontSize="14" Margin="0,0,5,0"/>
                            <TextBlock Name="lblNotificationCount" Text="0" FontWeight="Bold"/>
                        </StackPanel>
                    </Button>
                    <Button Name="btnLogout" Content="Logout" Style="{StaticResource DangerButton}" Click="BtnLogout_Click"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- === STATISTICS CARDS === -->
        <Grid Grid.Row="1" Margin="24,24,24,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Total Claims -->
            <Border Grid.Column="0" Style="{StaticResource StatCard}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Border Grid.Row="0" Background="{StaticResource InfoGradient}" 
                            Width="48" Height="48" CornerRadius="12" 
                            HorizontalAlignment="Left">
                        <TextBlock Text="📄" FontSize="22" Foreground="White" 
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <StackPanel Grid.Row="1" Margin="0,12,0,0">
                        <TextBlock Name="lblTotalClaims" Text="12" FontSize="32" FontWeight="Bold" Foreground="#E2E8F0"/>
                        <TextBlock Text="Total Claims" FontSize="14" Foreground="#94A3B8" Margin="0,4,0,0"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Pending Claims -->
            <Border Grid.Column="1" Style="{StaticResource StatCard}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Border Grid.Row="0" Background="{StaticResource WarningGradient}" 
                            Width="48" Height="48" CornerRadius="12" 
                            HorizontalAlignment="Left">
                        <TextBlock Text="⏳" FontSize="24" Foreground="White" 
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <StackPanel Grid.Row="1" Margin="0,12,0,0">
                        <TextBlock Name="lblPendingClaims" Text="3" FontSize="32" FontWeight="Bold" Foreground="#E2E8F0"/>
                        <TextBlock Text="Pending Review" FontSize="14" Foreground="#94A3B8" Margin="0,4,0,0"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Approved Claims -->
            <Border Grid.Column="2" Style="{StaticResource StatCard}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Border Grid.Row="0" Background="{StaticResource AccentGradient}" 
                            Width="48" Height="48" CornerRadius="12" 
                            HorizontalAlignment="Left">
                        <TextBlock Text="✅" FontSize="22" Foreground="White" 
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <StackPanel Grid.Row="1" Margin="0,12,0,0">
                        <TextBlock Name="lblApprovedClaims" Text="8" FontSize="32" FontWeight="Bold" Foreground="#E2E8F0"/>
                        <TextBlock Text="Approved Claims" FontSize="14" Foreground="#94A3B8" Margin="0,4,0,0"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Total Earnings -->
            <Border Grid.Column="3" Style="{StaticResource StatCard}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Border Grid.Row="0" Background="{StaticResource PrimaryGradient}" 
                            Width="48" Height="48" CornerRadius="12" 
                            HorizontalAlignment="Left">
                        <TextBlock Text="💰" FontSize="22" Foreground="White" 
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <StackPanel Grid.Row="1" Margin="0,12,0,0">
                        <TextBlock Name="lblTotalEarnings" Text="R 36,450" FontSize="28" FontWeight="Bold" Foreground="#E2E8F0"/>
                        <TextBlock Text="Total Earnings" FontSize="14" Foreground="#94A3B8" Margin="0,4,0,0"/>
                    </StackPanel>
                </Grid>
            </Border>
        </Grid>

        <!-- === MAIN CONTENT === -->
        <TabControl Grid.Row="2" Margin="24" Background="Transparent" BorderThickness="0">
            <TabControl.Resources>
                <Style TargetType="TabItem">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="TabItem">
                                <Border x:Name="Border" 
                                        Background="#334155" 
                                        BorderThickness="1,1,1,0" 
                                        BorderBrush="#64748B" 
                                        CornerRadius="8,8,0,0" 
                                        Padding="20,12" 
                                        Margin="0,0,4,0">
                                    <ContentPresenter x:Name="ContentSite"
                                                    VerticalAlignment="Center"
                                                    HorizontalAlignment="Center"
                                                    ContentSource="Header"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="#1E293B"/>
                                        <Setter TargetName="Border" Property="BorderBrush" Value="#667eea"/>
                                    </Trigger>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="#475569"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                    <Setter Property="Foreground" Value="#E2E8F0"/>
                    <Setter Property="FontFamily" Value="Segoe UI"/>
                    <Setter Property="FontWeight" Value="Medium"/>
                    <Setter Property="FontSize" Value="14"/>
                </Style>
            </TabControl.Resources>

            <!-- Claims Overview Tab -->
            <TabItem Header="My Claims">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Claims Filter Section -->
                    <Border Grid.Row="0" Style="{StaticResource GlassCard}" Margin="0,0,0,20">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Filter by Status:" VerticalAlignment="Center" 
                                       Margin="0,0,15,0" Style="{StaticResource FormLabel}"/>
                            <ComboBox Name="cmbClaimFilter" Width="150" Margin="0,0,15,0" 
                                      SelectedIndex="0" SelectionChanged="CmbClaimFilter_SelectionChanged"
                                      Style="{StaticResource ModernComboBox}">
                                <ComboBoxItem Content="All Claims" Style="{StaticResource ModernComboBoxItem}"/>
                                <ComboBoxItem Content="Pending Review" Style="{StaticResource ModernComboBoxItem}"/>
                                <ComboBoxItem Content="Approved" Style="{StaticResource ModernComboBoxItem}"/>
                                <ComboBoxItem Content="Rejected" Style="{StaticResource ModernComboBoxItem}"/>
                                <ComboBoxItem Content="Draft" Style="{StaticResource ModernComboBoxItem}"/>
                                <ComboBoxItem Content="Recent Submissions" Style="{StaticResource ModernComboBoxItem}"/>
                            </ComboBox>

                            <TextBlock Text="Search:" VerticalAlignment="Center" 
                                       Margin="15,0,10,0" Style="{StaticResource FormLabel}"/>
                            <TextBox Name="txtClaimSearch" Width="200" Style="{StaticResource ModernTextBox}" 
                                     Margin="0" TextChanged="TxtClaimSearch_TextChanged"/>
                            <Button Name="btnSearchClaims" Content="Search" Style="{StaticResource PrimaryButton}" 
                                    Click="BtnSearchClaims_Click"/>
                        </StackPanel>
                    </Border>

                    <!-- Claims DataGrid -->
                    <Border Grid.Row="1" Style="{StaticResource GlassCard}">
                        <DataGrid Name="dgMyClaims" Style="{StaticResource ModernDataGrid}">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Claim ID" Binding="{Binding ClaimId}" Width="100"/>
                                <DataGridTextColumn Header="Submit Date" Binding="{Binding SubmitDate, StringFormat='{}{0:yyyy-MM-dd}'}" Width="120"/>
                                <DataGridTextColumn Header="Hours" Binding="{Binding Hours}" Width="80"/>
                                <DataGridTextColumn Header="Rate" Binding="{Binding HourlyRate, StringFormat='R {0:N2}'}" Width="100"/>
                                <DataGridTextColumn Header="Total" Binding="{Binding TotalAmount, StringFormat='R {0:N2}'}" Width="120"/>
                                <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="150"/>
                                <DataGridTextColumn Header="Last Updated" Binding="{Binding LastUpdated, StringFormat='{}{0:yyyy-MM-dd HH:mm}'}" Width="150"/>
                                <DataGridTemplateColumn Header="Actions" Width="240">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal">
                                                <Button Content="View" Style="{StaticResource SecondaryButton}" 
                                                        Tag="{Binding ClaimId}" Click="BtnViewMyClaim_Click" 
                                                        Margin="2" Padding="8,4"/>
                                                <Button Content="Edit" Style="{StaticResource PrimaryButton}" 
                                                        Tag="{Binding ClaimId}" Click="BtnEditClaim_Click" 
                                                        Margin="2" Padding="8,4" IsEnabled="{Binding CanEdit}"/>
                                                <Button Content="Delete" Style="{StaticResource DangerButton}" 
                                                        Tag="{Binding ClaimId}" Click="BtnDeleteClaim_Click" 
                                                        Margin="2" Padding="8,4" IsEnabled="{Binding CanEdit}"/>
                                            </StackPanel>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Border>
                </Grid>
            </TabItem>

            <!-- Submit Claim Tab -->
            <TabItem Header="Submit Claim">
                <Border Style="{StaticResource GlassCard}">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- Left Column -->
                            <StackPanel Grid.Column="0" Margin="0,0,20,0">
                                <TextBlock Text="Submit New Claim" FontSize="24" FontWeight="Bold" 
                                           Margin="0,0,0,30" Foreground="#E2E8F0"/>

                                <!-- Claim Period Section -->
                                <TextBlock Text="Claim Period" FontSize="18" FontWeight="SemiBold" 
                                           Margin="0,0,0,15" Foreground="#E2E8F0"/>
                                <StackPanel Margin="0,0,0,20">
                                    <TextBlock Text="Start Date:" Style="{StaticResource FormLabel}"/>
                                    <DatePicker Name="dpClaimStart" Style="{StaticResource ModernDatePicker}"/>
                                    <TextBlock Text="End Date:" Style="{StaticResource FormLabel}"/>
                                    <DatePicker Name="dpClaimEnd" Style="{StaticResource ModernDatePicker}"/>
                                </StackPanel>

                                <!-- Work Details Section -->
                                <TextBlock Text="Work Details" FontSize="18" FontWeight="SemiBold" 
                                           Margin="0,0,0,15" Foreground="#E2E8F0"/>
                                <StackPanel Margin="0,0,0,20">
                                    <TextBlock Text="Hours Worked:" Style="{StaticResource FormLabel}"/>
                                    <TextBox Name="txtHours" Style="{StaticResource ModernTextBox}" TextChanged="TxtHours_TextChanged"/>

                                    <TextBlock Text="Hourly Rate (R):" Style="{StaticResource FormLabel}"/>
                                    <TextBox Name="txtHourlyRate" Style="{StaticResource ModernTextBox}" TextChanged="TxtHourlyRate_TextChanged"/>

                                    <TextBlock Text="Total Amount:" Style="{StaticResource FormLabel}"/>
                                    <TextBox Name="txtTotalAmount" Style="{StaticResource ModernTextBox}" 
                                             IsReadOnly="True" Background="#334155" FontWeight="Bold" FontSize="16"/>
                                </StackPanel>

                                <!-- Manager Selection Section -->
                                <TextBlock Text="Manager Assignment" FontSize="18" FontWeight="SemiBold" 
                                           Margin="0,0,0,15" Foreground="#E2E8F0"/>
                                <StackPanel Margin="0,0,0,20">
                                    <TextBlock Text="Select Academic Manager:" Style="{StaticResource FormLabel}"/>
                                    <ComboBox Name="cmbAssignedManager" Style="{StaticResource ModernComboBox}" 
                                              DisplayMemberPath="FullName" SelectedValuePath="Email"/>
                                    <TextBlock Text="*Required: Select the academic manager to review this claim" 
                                               FontSize="11" Foreground="#94A3B8" Margin="0,0,0,10"/>
                                </StackPanel>
                            </StackPanel>

                            <!-- Right Column -->
                            <StackPanel Grid.Column="1" Margin="20,0,0,0">
                                <!-- Empty space for title alignment -->
                                <TextBlock Text=" " FontSize="24" FontWeight="Bold" 
                                           Margin="0,0,0,30" Foreground="Transparent"/>

                                <!-- Description Section -->
                                <TextBlock Text="Work Description" FontSize="18" FontWeight="SemiBold" 
                                           Margin="0,0,0,15" Foreground="#E2E8F0"/>
                                <TextBox Name="txtDescription" Style="{StaticResource ModernTextBox}" 
                                         Height="160" TextWrapping="Wrap" AcceptsReturn="True" 
                                         VerticalScrollBarVisibility="Auto" Margin="0,0,0,20"/>

                                <!-- Supporting Documents Section -->
                                <TextBlock Text="Supporting Documents" FontSize="18" FontWeight="SemiBold" 
                                           Margin="0,0,0,15" Foreground="#E2E8F0"/>
                                <StackPanel Margin="0,0,0,20">

                                    <!-- File Requirements Info Box -->
                                    <Border Background="#334155" CornerRadius="6" Padding="12" Margin="0,0,0,15"
                                            BorderBrush="#475569" BorderThickness="1">
                                        <StackPanel>
                                            <TextBlock Text="📋 File Requirements:" FontWeight="SemiBold" 
                                                       Foreground="#E2E8F0" FontSize="13" Margin="0,0,0,8"/>
                                            <TextBlock Text="• Allowed types: PDF, Word (.docx, .doc), Excel (.xlsx, .xls), PowerPoint (.pptx, .ppt), Images (PNG, JPG)" 
                                                       Foreground="#94A3B8" FontSize="11" Margin="0,0,0,4" TextWrapping="Wrap"/>
                                            <TextBlock Text="• Maximum file size: 50 MB for documents, 10 MB for images" 
                                                       Foreground="#94A3B8" FontSize="11" Margin="0,0,0,4"/>
                                            <TextBlock Text="• You can upload multiple files" 
                                                       Foreground="#94A3B8" FontSize="11"/>
                                        </StackPanel>
                                    </Border>

                                    <!-- Add Document Button and Count -->
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                        <Button Name="btnAddDocument" Content="📎 Add Document" 
                                                Style="{StaticResource SecondaryButton}" Click="BtnAddDocument_Click"/>
                                        <TextBlock Name="lblDocumentCount" VerticalAlignment="Center" 
                                                   Margin="15,0,0,0" FontStyle="Italic" 
                                                   Foreground="#94A3B8" Text="No documents attached"/>
                                    </StackPanel>

                                    <!-- Documents ListBox -->
                                    <ListBox Name="lbDocuments" Height="120" Style="{StaticResource ModernListBox}"/>
                                </StackPanel>

                                <!-- Submit Buttons -->
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,20,0,0">
                                    <Button Name="btnSaveDraft" Content="Save as Draft" 
                                            Style="{StaticResource SecondaryButton}" Margin="0,0,15,0" 
                                            Click="BtnSaveDraft_Click"/>
                                    <Button Name="btnSubmitClaim" Content="Submit Claim" 
                                            Style="{StaticResource SuccessButton}" FontSize="14" Padding="20,10" 
                                            Click="BtnSubmitClaim_Click"/>
                                </StackPanel>
                            </StackPanel>
                        </Grid>
                    </ScrollViewer>
                </Border>
            </TabItem>

            <!-- Notifications Tab -->
            <TabItem Header="Notifications">
                <Border Style="{StaticResource GlassCard}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!-- Notifications Header -->
                        <Grid Grid.Row="0" Margin="0,0,0,20">
                            <TextBlock Text="Notifications" FontSize="18" FontWeight="SemiBold" Foreground="#E2E8F0"/>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                <CheckBox Name="chkSelectAllNotifications" Content="Select All" 
                                          Style="{StaticResource ModernCheckBox}" 
                                          Checked="ChkSelectAllNotifications_Checked" 
                                          Unchecked="ChkSelectAllNotifications_Unchecked"/>
                                <Button Name="btnDeleteSelectedNotifications" Content="Delete Selected" 
                                        Style="{StaticResource DangerButton}" 
                                        Click="BtnDeleteSelectedNotifications_Click"
                                        IsEnabled="False" Margin="10,0"/>
                                <Button Name="btnMarkAllRead" Content="Mark All Read" 
                                        Style="{StaticResource SecondaryButton}" 
                                        Click="BtnMarkAllRead_Click"/>
                            </StackPanel>
                        </Grid>

                        <!-- Notifications List -->
                        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                            <StackPanel Name="spNotifications"/>
                        </ScrollViewer>
                    </Grid>
                </Border>
            </TabItem>

            <!-- My Profile Tab -->
            <TabItem Header="My Profile">
                <Border Style="{StaticResource GlassCard}">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- Left Column -->
                            <StackPanel Grid.Column="0" Margin="0,0,20,0">
                                <TextBlock Text="My Profile" FontSize="24" FontWeight="Bold" 
                                           Margin="0,0,0,30" Foreground="#E2E8F0"/>

                                <!-- Personal Information Section -->
                                <TextBlock Text="Personal Information" FontSize="18" FontWeight="SemiBold" 
                                           Margin="0,0,0,15" Foreground="#E2E8F0"/>
                                <StackPanel Margin="0,0,0,20">
                                    <TextBlock Text="Full Name:" Style="{StaticResource FormLabel}"/>
                                    <TextBox Name="txtFullName" Style="{StaticResource ModernTextBox}"/>

                                    <TextBlock Text="Email Address:" Style="{StaticResource FormLabel}"/>
                                    <TextBox Name="txtEmail" Style="{StaticResource ModernTextBox}"/>

                                    <TextBlock Text="Phone Number:" Style="{StaticResource FormLabel}"/>
                                    <TextBox Name="txtPhone" Style="{StaticResource ModernTextBox}"/>
                                </StackPanel>

                                <!-- Employment Information Section -->
                                <TextBlock Text="Employment Information" FontSize="18" FontWeight="SemiBold" 
                                           Margin="0,0,0,15" Foreground="#E2E8F0"/>
                                <StackPanel Margin="0,0,0,20">
                                    <TextBlock Text="Employee ID:" Style="{StaticResource FormLabel}"/>
                                    <TextBox Name="txtEmployeeId" Style="{StaticResource ModernTextBox}" 
                                             IsReadOnly="True" Background="#334155"/>

                                    <TextBlock Text="Department:" Style="{StaticResource FormLabel}"/>
                                    <TextBox Name="txtDepartment" Style="{StaticResource ModernTextBox}"/>

                                    <TextBlock Text="Default Hourly Rate (R):" Style="{StaticResource FormLabel}"/>
                                    <TextBox Name="txtDefaultRate" Style="{StaticResource ModernTextBox}"/>
                                </StackPanel>
                            </StackPanel>

                            <!-- Right Column -->
                            <StackPanel Grid.Column="1" Margin="20,0,0,0">
                                <!-- Empty space for title alignment -->
                                <TextBlock Text=" " FontSize="24" FontWeight="Bold" 
                                           Margin="0,0,0,30" Foreground="Transparent"/>

                                <!-- Banking Information Section -->
                                <TextBlock Text="Banking Information" FontSize="18" FontWeight="SemiBold" 
                                           Margin="0,0,0,15" Foreground="#E2E8F0"/>
                                <StackPanel Margin="0,0,0,20">
                                    <TextBlock Text="Bank Name:" Style="{StaticResource FormLabel}"/>
                                    <TextBox Name="txtBankName" Style="{StaticResource ModernTextBox}"/>

                                    <TextBlock Text="Account Number:" Style="{StaticResource FormLabel}"/>
                                    <TextBox Name="txtAccountNumber" Style="{StaticResource ModernTextBox}"/>

                                    <TextBlock Text="Branch Code:" Style="{StaticResource FormLabel}"/>
                                    <TextBox Name="txtBranchCode" Style="{StaticResource ModernTextBox}"/>
                                </StackPanel>

                                <!-- Update Button -->
                                <Button Name="btnUpdateProfile" Content="Update Profile" 
                                        Style="{StaticResource PrimaryButton}" 
                                        Margin="0,30,0,0" Click="BtnUpdateProfile_Click" HorizontalAlignment="Left"/>
                            </StackPanel>
                        </Grid>
                    </ScrollViewer>
                </Border>
            </TabItem>

        </TabControl>

        <!-- === STATUS BAR === -->
        <Border Grid.Row="2" Background="#1E293B" Height="35" VerticalAlignment="Bottom" 
                BorderBrush="#334155" BorderThickness="0,1,0,0">
            <Grid Margin="30,0">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <Ellipse Width="8" Height="8" Fill="#48BB78" Margin="0,0,8,0"/>
                    <TextBlock Name="lblStatus" Text="Ready" Foreground="#E2E8F0" FontSize="12"/>
                    <TextBlock Text=" • " Foreground="#64748B" FontSize="12" Margin="8,0"/>
                    <TextBlock Name="lblLastUpdate" Text="Last updated: Just now" 
                               Foreground="#64748B" FontSize="12"/>
                </StackPanel>
            </Grid>
        </Border>

    </Grid>
</Window>